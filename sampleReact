import React, { useState, useEffect } from 'react';
import { AlertTriangle, Shield, CheckCircle, X } from 'lucide-react';

const SecurityAwarenessTool = () => {
  const [showWarning, setShowWarning] = useState(true);
  const [currentStep, setCurrentStep] = useState(0);
  const [startTime] = useState(new Date());
  
  const steps = [
    {
      title: "‚ö†Ô∏è SECURITY ASSESSMENT FAILED",
      type: "error",
      content: "You have just executed an unknown program from an untrusted USB device!"
    },
    {
      title: "üî¥ POTENTIAL CONSEQUENCES",
      type: "warning",
      content: "In a real attack, this could have resulted in:"
    },
    {
      title: "üõ°Ô∏è WHAT YOU SHOULD DO",
      type: "info",
      content: "Best practices to protect yourself and your organization:"
    }
  ];
  
  const consequences = [
    "üíÄ Ransomware encrypting all company files",
    "üîë Keyloggers capturing passwords and sensitive data",
    "üéØ Remote access trojans giving attackers full control",
    "üí∏ Financial data stolen and sold on dark web",
    "üìä Customer information compromised",
    "üåê Network-wide infrastructure infiltration"
  ];
  
  const bestPractices = [
    "‚úÖ NEVER plug in unknown USB devices",
    "‚úÖ Always scan external media with updated antivirus",
    "‚úÖ Verify suspicious files with IT Security team",
    "‚úÖ Report found USB devices to security personnel",
    "‚úÖ Keep your system and software updated",
    "‚úÖ Enable real-time protection and firewalls"
  ];
  
  useEffect(() => {
    // Auto-advance through steps
    const timer = setTimeout(() => {
      if (currentStep < steps.length - 1) {
        setCurrentStep(currentStep + 1);
      }
    }, 5000);
    
    return () => clearTimeout(timer);
  }, [currentStep, steps.length]);
  
  const handleAcknowledge = () => {
    const duration = Math.round((new Date() - startTime) / 1000);
    alert(`Assessment completed in ${duration} seconds.\n\nThis incident has been logged for training purposes.\n\nRemember: Always verify unknown USB devices with IT Security!`);
    setShowWarning(false);
  };
  
  if (!showWarning) {
    return (
      <div className="min-h-screen bg-gray-900 flex items-center justify-center p-4">
        <div className="bg-green-800 border-2 border-green-400 rounded-lg p-8 max-w-md text-center">
          <CheckCircle className="w-16 h-16 text-green-400 mx-auto mb-4" />
          <h2 className="text-2xl font-bold text-green-400 mb-4">Assessment Complete</h2>
          <p className="text-green-200">Thank you for participating in this security awareness exercise.</p>
        </div>
      </div>
    );
  }
  
  return (
    <div className="min-h-screen bg-black text-white font-mono overflow-hidden relative">
      {/* Animated background grid */}
      <div className="absolute inset-0 opacity-20">
        <div className="grid grid-cols-20 h-full">
          {Array.from({length: 400}).map((_, i) => (
            <div 
              key={i} 
              className="border border-cyan-500 animate-pulse" 
              style={{animationDelay: `${i * 0.1}s`}}
            />
          ))}
        </div>
      </div>
      
      {/* Main content */}
      <div className="relative z-10 min-h-screen flex items-center justify-center p-4">
        <div className="max-w-4xl w-full bg-gray-900 border-2 border-red-500 rounded-lg shadow-2xl overflow-hidden">
          {/* Header */}
          <div className="bg-red-900 p-6 text-center border-b-2 border-red-500">
            <div className="flex items-center justify-center mb-4">
              <AlertTriangle className="w-12 h-12 text-red-400 mr-4 animate-pulse" />
              <h1 className="text-4xl font-bold text-red-400">
                {steps[currentStep].title}
              </h1>
              <AlertTriangle className="w-12 h-12 text-red-400 ml-4 animate-pulse" />
            </div>
            <p className="text-cyan-400 text-lg">
              USB Drop Attack Simulation - Educational Purpose
            </p>
          </div>
          
          {/* Progress bar */}
          <div className="bg-gray-800 p-2">
            <div className="bg-gray-700 rounded-full h-2">
              <div 
                className="bg-red-500 h-2 rounded-full transition-all duration-1000"
                style={{width: `${((currentStep + 1) / steps.length) * 100}%`}}
              />
            </div>
            <p className="text-center text-sm text-gray-400 mt-1">
              Step {currentStep + 1} of {steps.length}
            </p>
          </div>
          
          {/* Content area */}
          <div className="p-8">
            {currentStep === 0 && (
              <div className="text-center">
                <div className="text-6xl mb-6 animate-bounce">‚ö†Ô∏è</div>
                <p className="text-xl text-red-400 mb-6">
                  You have just executed an unknown program from an untrusted USB device!
                </p>
                <div className="bg-red-900 border border-red-500 rounded p-4 mb-6">
                  <p className="text-red-200">
                    <strong>CRITICAL SECURITY VIOLATION DETECTED</strong><br/>
                    Unauthorized execution of external media content
                  </p>
                </div>
                <p className="text-gray-300">
                  This is a simulated attack for educational purposes. 
                  In a real scenario, your system could now be compromised.
                </p>
              </div>
            )}
            
            {currentStep === 1 && (
              <div>
                <div className="grid md:grid-cols-2 gap-6">
                  <div>
                    <h3 className="text-2xl font-bold text-red-400 mb-4 flex items-center">
                      <AlertTriangle className="w-6 h-6 mr-2" />
                      Potential Damage
                    </h3>
                    <div className="space-y-3">
                      {consequences.map((consequence, index) => (
                        <div 
                          key={index}
                          className="bg-red-900 border-l-4 border-red-500 p-3 rounded"
                          style={{animationDelay: `${index * 0.5}s`}}
                        >
                          <p className="text-red-200">{consequence}</p>
                        </div>
                      ))}
                    </div>
                  </div>
                  
                  <div>
                    <h3 className="text-2xl font-bold text-orange-400 mb-4">
                      Real-World Impact
                    </h3>
                    <div className="bg-orange-900 border border-orange-500 rounded p-4 mb-4">
                      <p className="text-orange-200 text-sm">
                        <strong>Average ransomware attack costs:</strong><br/>
                        ‚Ä¢ Small business: $84,000<br/>
                        ‚Ä¢ Enterprise: $4.6M<br/>
                        ‚Ä¢ Recovery time: 23 days average
                      </p>
                    </div>
                    <div className="bg-yellow-900 border border-yellow-500 rounded p-4">
                      <p className="text-yellow-200 text-sm">
                        <strong>Data breach statistics:</strong><br/>
                        ‚Ä¢ 45% caused by USB drops<br/>
                        ‚Ä¢ 98% success rate in corporate environments<br/>
                        ‚Ä¢ Average detection time: 287 days
                      </p>
                    </div>
                  </div>
                </div>
              </div>
            )}
            
            {currentStep === 2 && (
              <div>
                <div className="text-center mb-6">
                  <Shield className="w-16 h-16 text-green-400 mx-auto mb-4" />
                  <h3 className="text-2xl font-bold text-green-400">
                    Protect Yourself & Your Organization
                  </h3>
                </div>
                
                <div className="grid md:grid-cols-2 gap-6">
                  <div>
                    <h4 className="text-lg font-bold text-cyan-400 mb-4">Security Best Practices:</h4>
                    <div className="space-y-2">
                      {bestPractices.map((practice, index) => (
                        <div 
                          key={index}
                          className="bg-green-900 border-l-4 border-green-500 p-3 rounded flex items-center"
                        >
                          <CheckCircle className="w-5 h-5 text-green-400 mr-3 flex-shrink-0" />
                          <p className="text-green-200">{practice.replace('‚úÖ ', '')}</p>
                        </div>
                      ))}
                    </div>
                  </div>
                  
                  <div>
                    <h4 className="text-lg font-bold text-blue-400 mb-4">If You Find a USB Device:</h4>
                    <div className="bg-blue-900 border border-blue-500 rounded p-4 mb-4">
                      <ol className="text-blue-200 space-y-2 text-sm list-decimal list-inside">
                        <li>DON'T plug it into any computer</li>
                        <li>Report it to IT Security immediately</li>
                        <li>Provide details about where you found it</li>
                        <li>Let security team handle it safely</li>
                      </ol>
                    </div>
                    
                    <div className="bg-purple-900 border border-purple-500 rounded p-4">
                      <h5 className="font-bold text-purple-400 mb-2">Emergency Contacts:</h5>
                      <p className="text-purple-200 text-sm">
                        üîí IT Security: ext. 2580<br/>
                        üìß security@company.com<br/>
                        üö® After hours: 555-SEC-HELP
                      </p>
                    </div>
                  </div>
                </div>
                
                <div className="mt-8 text-center">
                  <button
                    onClick={handleAcknowledge}
                    className="bg-green-600 hover:bg-green-700 text-white font-bold py-3 px-8 rounded-lg transition-colors duration-300 text-lg"
                  >
                    I UNDERSTAND - COMPLETE ASSESSMENT
                  </button>
                </div>
              </div>
            )}
          </div>
          
          {/* Footer */}
          <div className="bg-gray-800 p-4 text-center border-t border-gray-600">
            <p className="text-cyan-400 font-bold">
              Security Awareness Training - Cybersecurity Team
            </p>
            <p className="text-gray-400 text-sm mt-1">
              This simulation helps protect our organization from real threats
            </p>
          </div>
        </div>
      </div>
    </div>
  );
};

export default SecurityAwarenessTool;